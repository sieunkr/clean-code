# 9. 단위 테스트

## TDD 법칙 세가지

1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

이렇게 일하면 실제 코드를 사실상 전부 테스트하는 테스트 케이스가 나온다. 
하지만, 실제 코드와 맞먹을 정도로 방대한 테스트 코드는 심각한 관리 문제를 유발하게 된다.

## 깨끗한 테스트 코드 유지하기

실제 코드가 진화하면 테스트 코드도 변해야 한다. 그런데 테스트 코드가 지저분할수록 변경하기 어려워진다.
테스트 코드가 복잡할수록 실제 코드를 짜는 시간보다 테스트 케이스를 추가하는 시간이 더 오래 걸린다.

> 테스트 코드는 실제 코드만큼 매우 중요하다. 

테스트 케이스가 없으면 모든 변경이 잠정적인 버그다. 아키텍처가 아무리 유연하더라도, 테스트 케이스가 없으면
개발자는 변경을 주저한다... 생략

## 깨끗한 테스트 코드

> 가독성

````java
public void testGetPageHierarchyAsXml() throws Exception {
    makePage("PageOne", "PageOne....");
    
    submitRewuest("Root", "type:pages");
    
    assertResponseIsXML();
    assert...
}
````
Build-Operate-Check 패턴이 사용되었다. 첫 부분은 테스트 자료를 만든다.
두번째 부분은 테스트 자료를 조작하며, 세번째 부분은 조작한 결과가 올바른지 검증한다.(?)

생략

## 테스트 당 assert 하나..(?)

생략

## 테스트 당 개념 하나

테스트 함수마다 한 개념만 테스트하라!

## F.I.R.S.T

- 빠르게
- 독립적으로
- 반복 가능하게
- 자가 검증하는
- 적시에

책 읽어보면 됨

## 결론

생략, TDD 는 책 한권을 할애해도 모자랄 주제란다..
